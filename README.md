# 자바웹프로그래밍(2)

### **이름: [배민서]**

### **학번: [20220988]**

## 1. 구현된 주요 기능

- **포트폴리오**: 부트스트랩 템플릿을 활용한 개인 소개 페이지
- **게시판 (CRUD)**: 게시글 작성, 조회, 수정, 삭제 기능
- **페이징 및 검색**: 키워드 기반 제목 검색 및 페이지네이션 기능
- **회원가입 및 로그인**:
  - 이메일 기반 회원가입 및 패스워드 암호화(BCrypt)
  - `HttpSession`을 이용한 로그인 상태 유지 및 접근 제어
  - 다중 사용자 로그인 세션 관리
- **입력값 검증 (Validation)**: 회원가입 시 서버 사이드 유효성 검사
- **파일 업로드**: 연락처 폼의 내용을 서버에 텍스트 파일로 저장

---

## 2. 주차별 실습 및 연습문제 정리

<details>
<summary><strong>2주차: 스프링 부트와 MVC 패턴</strong></summary>

- **수업 내용**:
  - Spring Initializr로 프로젝트를 생성하고, `@Controller`와 `@GetMapping`을 사용하여 URL 요청을 특정 메소드에 맵핑하는 방법을 학습했습니다.
  - `Model` 객체로 컨트롤러에서 뷰(HTML)로 데이터를 전달하고, Thymeleaf의 `th:text`로 출력하는 원리를 이해했습니다.
- **연습 문제**:
  - `/hello2` URL 맵핑을 `BlogController`에 추가하고, 5개의 속성(이름, 날짜 등)을 `Model`에 담아 `hello2.html` 뷰에서 출력하는 기능을 구현했습니다.
- **실습 느낌**:
  - 자바웹(1) 수업 때 배운 부분이라 큰 어려움 없이 진행했습니다.

</details>

<details>
<summary><strong>3주차: 개인 포트폴리오 템플릿 적용</strong></summary>

- **수업 내용**:
  - 외부 부트스트랩 템플릿의 정적 리소스(CSS, JS, 이미지)를 `static` 폴더에 구성하고 프로젝트에 통합하는 방법을 학습했습니다.
  - 컨트롤러를 통해 여러 HTML 페이지를 연결하고 관리하는 방법을 익혔습니다.
- **연습 문제**:
  - 상세 페이지(`about_detailed.html`)의 '되돌아가기' 버튼에 `javascript:window.close()` 코드를 적용하고, `confirm()` 함수로 사용자 확인 절차를 추가하여 창 닫기 기능을 구현했습니다.
- **실습 느낌**:
  - 자바웹(1) 수업 때 배운 부분이라 큰 어려움 없이 진행했습니다.

</details>

<details>
<summary><strong>4주차: 데이터베이스 연동 및 JPA 기초</strong></summary>

- **수업 내용**:
  - MySQL 설치 및 `application.properties`를 통한 연동 방법을 학습했습니다.
  - `@Entity`, `@Id` 등 JPA 어노테이션으로 테이블과 매핑되는 Entity 클래스를 설계했습니다.
  - `JpaRepository`를 상속받아 기본적인 CRUD 기능을 구현하는 Repository 인터페이스를 작성했습니다.
- **연습 문제**:
  - DB 툴을 통해 `INSERT`문으로 2명의 사용자를 직접 추가하고, `Controller`에서 특정 ID의 사용자 정보를 조회하여 `View`에 두 사용자의 정보를 모두 출력하도록 구현했습니다.
- **실습 느낌**:
  - 여름방학 때 특강으로 DB에 관련된 내용을 간단하게 배웠지만 그럼에도 불구하고 직접 만들어 보며 새로움을 느꼈습니다.

</details>

<details>
<summary><strong>5주차: CRUD - 게시글 생성 및 조회</strong></summary>

- **수업 내용**:
  - `@PostMapping`으로 HTML `<form>`의 POST 요청을 처리하고, DTO를 사용하여 데이터를 전달받는 방법을 학습했습니다.
  - `redirect:`를 사용하여 작업 완료 후 특정 페이지로 자동 이동시키는 방법을 익혔습니다.
- **연습 문제**:
  - 기존 `@RestController` 방식의 글쓰기 기능을 `@Controller`를 사용하는 방식으로 변경하고, 데이터 저장 후 `"redirect:/article_list"`를 반환하여 게시글 목록으로 자동 전환되도록 구현했습니다.
- **실습 느낌**:
  - DB를 통해 게시글을 생성하고 이를 조회하는 방법을 배우며 신기하였습니다.

</details>

<details>
<summary><strong>6주차: 예외 처리(Exception Handling)</strong></summary>

- **수업 내용**:
  - `@ControllerAdvice`와 `@ExceptionHandler`를 사용하여 프로젝트 전역에서 발생하는 특정 예외를 중앙에서 일관되게 처리하는 방법을 학습했습니다.
- **연습 문제**:
  - `MethodArgumentTypeMismatchException`에 대한 `ExceptionHandler`를 정의하여, URL 파라미터 타입 오류 발생 시 직접 만든 전용 에러 페이지로 안내하도록 구현했습니다.
- **실습 느낌**:
  - 예외 처리를 배우며 오류 발생 시 안정성을 확보할 수 있었습니다.

</details>

<details>
<summary><strong>7주차: CRUD - 게시글 수정(Update)</strong></summary>

- **수업 내용**:
  - `@PutMapping`으로 수정 요청을 처리하고, `th:object`와 `th:field`를 사용하여 폼에 기존 데이터를 미리 채워 넣는 방법을 학습했습니다.
- **연습 문제**:
  - `/board_edit/{id}` 경로에 대한 `GET`/`PUT` 맵핑을 구현했습니다. `Service`의 `update` 메소드에서, 폼에서 전송되지 않은 필드(작성자, 날짜 등)는 기존 DB 값을 유지하도록 하여 `null`로 덮어써지는 문제를 해결했습니다.
- **실습 느낌**:
  - 현재 게시글의 수정과 삭제처리 방법을 알게되었고 연습 문제에서 조금 헤매기는 했지만, 스스로 해결했습니다.

</details>

<details>
<summary><strong>9주차: 검색, 페이징, 그리고 삭제(Delete)</strong></summary>

- **수업 내용**:
  - Spring Data JPA의 `Pageable`과 `Page` 객체를 이용한 페이지네이션 구현 방법을 학습했습니다.
  - `findBy[필드명]Containing` 규칙으로 `LIKE` 검색 쿼리를 자동으로 생성하고, Thymeleaf로 페이징 UI를 동적으로 생성하는 방법을 익혔습니다.
- **연습 문제**:
  - **글 번호**: `Controller`에서 페이지별 시작 번호를 계산하여 `Model`에 전달하고, `View`에서는 DB의 `ID` 대신 순차적인 글 번호를 출력하도록 수정했습니다.
  - **삭제**: `@DeleteMapping`을 `Controller`에 추가하고, `Service`에 `deleteById` 로직을 구현하여 삭제 기능을 완성했습니다.
- **실습 느낌**:
  - DB와 JPA를 통해 데이터를 효율적으로 관리하고, 이를 기반으로 UI를 동적으로 생성하는 방법을 익혔습니다.

</details>

<details>
<summary><strong>10주차: 스프링 시큐리티와 입력값 검증</strong></summary>

- **수업 내용**:
  - 스프링 시큐리티 의존성을 추가하여 기본적인 보안 기능을 활성화하고, `SecurityConfig`를 통해 보안 규칙을 커스터마이징하는 방법을 학습했습니다.
  - `PasswordEncoder`를 Bean으로 등록하여 패스워드를 안전하게 암호화했습니다.
- **연습 문제**:
  - `pom.xml`에 `validation` 의존성을 추가하고, `AddMemberRequest` DTO에 `@Pattern`, `@Min`, `@Max` 등 검증 어노테이션을 적용했습니다. `@Valid`를 통해 회원가입 시 서버에서 입력값을 자동으로 검증하도록 구현했습니다.
- **실습 느낌**:
  - 로그인 처리(1)을 배우며 요즘 떠오르는 보안과 관련된 내용을 알게 되었고 이를 통해 보안의 중요성에 대해 생각하는 계기가 되었습니다.

</details>

<details>
<summary><strong>11주차: 세션을 이용한 로그인 상태 관리</strong></summary>

- **수업 내용**:
  - `HttpSession`을 이용하여 로그인 상태를 저장/조회하고, `redirect`로 로그인하지 않은 사용자의 접근을 제어하는 방법을 학습했습니다.
  - `session.invalidate()`를 사용하여 로그아웃 시 세션을 파기하는 방법을 익혔습니다.
- **연습 문제**:
  - **작성자 저장**: 글 저장 시, `HttpSession`에서 현재 로그인한 사용자의 이메일을 가져와 게시글의 작성자로 저장하도록 수정했습니다.
  - **버튼 제어**: 글 상세 보기 시, `th:if`를 사용하여 현재 로그인한 사용자와 글 작성자가 동일한 경우에만 수정/삭제 버튼이 보이도록 구현했습니다.
- **실습 느낌**:
  - 로그인 처리(2)를 배우며 로그인/로그아웃 기능과 뒤로 돌아갈 때 사용자 제한 등 다양한 기능을 알게되었습니다.

</details>

<details>
<summary><strong>12주차: 세션 처리 개선 및 파일 업로드</strong></summary>

- **수업 내용**:
  - 다중 사용자 로그인을 위한 세션 처리 방식과 파일 업로드 설정을 학습했습니다.
  - `@RequestParam`으로 폼 데이터를 받아 서버에 파일로 저장하는 로직을 구현했습니다.
- **연습 문제**:
  - **다중 로그인**: `Controller`의 로그인 처리 메소드에서 기존 세션을 강제로 파기하던 로직을 제거하여, 여러 브라우저에서 각각 다른 사용자로 로그인할 수 있도록 개선했습니다.
  - **파일 업로드**: 파일명 생성 시 `LocalDateTime`을 이용한 타임스탬프를 추가하여, 동일한 사용자가 여러 번 메일을 보내도 파일이 덮어써지지 않고 매번 새로운 파일로 저장되도록 구현했습니다.
- **실습 느낌**:
  - 마지막 주차 실습을 통해 세션 관리를 심화 학습하고, 다중 사용자 환경에서의 로그인 처리 방식을 이해하게 되었습니다.

</details>

---

## 3. 포트폴리오(index.html) 상세 정리

이번 학기 동안 배운 내용을 종합하여 저만의 개성을 담은 개인 포트폴리오 페이지를 완성했습니다. 각 섹션별 주요 수정 및 정리 내용은 다음과 같습니다.

<details>
<summary><strong>Header (헤더)</strong></summary>

- **이름 및 직종**: 저의 이름을 '배민서'로 명시하고, 목표 직종을 **'게임 개발자'**로 명확하게 설정하여 포트폴리오의 전체적인 정체성을 부여했습니다.
- **이미지**: 전문성과 개성을 동시에 보여주기 위해, 직접 제작한 캐리커처 이미지를 메인 프로필 사진으로 사용했습니다.

</details>

<details>
<summary><strong>About (내 소개)</strong></summary>

- **소개글**: "4년 동안 게임 개발자를 목표로 꾸준히 정진해왔다"는 문구를 통해 저의 목표 의식과 끈기를 강조했습니다.
- **핵심 역량**: 학습 능력, 개발 능력, 의사소통 능력 등 저의 핵심 역량을 3가지로 요약하여 제시했습니다.
- **사진 자료**: 실제 제 모습과 개발 환경(노트북) 사진을 함께 배치하여 신뢰감을 더하고, '작은 코드, 큰 변화를 만드는 개발자'라는 저의 슬로건과 '학과 경진대회 우수상' 수상 경력을 구체적으로 명시했습니다.

</details>

<details>
<summary><strong>Expertise (스킬 및 경험)</strong></summary>

- **나의 기술**: C#, C++, 유니티(Unity) 등 게임 개발 관련 기술 스택의 숙련도를 중심으로 표시하고, 웹 개발 관련 기술(HTML, Javascript)도 함께 정리했습니다.
- **경험 및 교육과정**: '경험' 탭에서는 웹/앱 개발, 게임 기획/개발, 시스템 개발 등 수행했던 프로젝트들을 카테고리별로 정리했습니다. '교육과정' 탭에서는 교내에서 이수한 주요 전공과목들을 나열하여 학문적 기반을 어필했습니다.

</details>

<details>
<summary><strong>Projects (프로젝트)</strong></summary>

- **프로젝트 구성**: `텍스트 RPG 게임`, `자료구조 학습용 멀티에이전트 시스템`, `주식 투자용 계산기` 등 개인적으로 진행했던 프로젝트와 팀 프로젝트, 경진대회 출품작 등을 시각적인 썸네일과 함께 배치했습니다.
- **링크 연동**: 각 프로젝트 썸네일을 클릭하면 해당 프로젝트의 소스코드가 있는 깃허브 저장소나, 시연 영상(유튜브 등)으로 연결되도록 링크를 추가할 계획입니다.

</details>

<details>
<summary><strong>Testimonial (나의 개발 철학)</strong></summary>

- **내용 변경**: 기존 템플릿의 '추천사' 섹션을 '나의 개발 철학'으로 변경했습니다.
- **메시지 작성**: "저는 아직 저 스스로를 찾아가는 중인 개인 개발자입니다..." 라는 문구를 통해, 끊임없이 배우고 성장하려는 저의 개발자로서의 가치관을 표현했습니다.
- **디자인 수정**: 메시지에 집중할 수 있도록 주변의 불필요한 인물 이미지는 모두 삭제하고 텍스트 중심으로 디자인을 단순화했습니다.

</details>

<details>
<summary><strong>Contact (연락처)</strong></summary>

- **목표 변경**: "함께 일하실 분을 찾습니다!" 라는 문구 대신, **"함께 공부하실 분을 찾습니다!"** 라는 메시지를 통해 학부생으로서의 현재 위치와 네트워킹에 대한 긍정적인 태도를 보여주고자 했습니다.
- **정보 기입**: 실제 연락 가능한 연락처와 이메일 주소를 기입했습니다.
- **기능 구현**: 12주차 실습 내용을 바탕으로, 방문자가 메시지를 남기면 서버의 `upload` 폴더에 `.txt` 파일로 저장되는 메일 전송 기능을 정상적으로 구현했습니다.

</details>

<details>
<summary><strong>Map (지도) 및 Copyright (저작권)</strong></summary>

- **지도 위치**: 구글 지도 `<iframe>`을 활용하여 **성결대학교 성결관**의 위치를 정확하게 표시했습니다.
- **저작권 정보**: 페이지 최하단 Copyright 부분에 교수님의 지도에 따라 제 이름을 명시하여, 이 페이지의 제작자임을 밝혔습니다.

</details>

---

## 4. 주요 오류 및 해결 과정

프로젝트를 진행하면서 여러 오류와 경고를 마주쳤지만, 그중 가장 꾸준히 발생하며 해결 과정에서 많은 것을 배울 수 있었던 Null type safety 경고에 대해 정리하고자 합니다.

<details>
<summary><strong>문제 현상: `Null type safety` 경고 발생</strong></summary>

- **발생 위치**: BlogService.java, MemberService.java 등 서비스(Service) 계층의 여러 메소드에서 발생했습니다.
- **경고 메시지**: Null type safety: The expression of type '...' needs unchecked conversion to conform to '@NonNull ...'
- **상세 내용**: findById(Long id)와 같이 ID를 파라미터로 받는 메소드, findAll(Pageable pageable)과 같이 페이징 객체를 파라미터로 받는 메소드, 그리고 repository.save()의 반환 값을 처리하는 메소드 등에서 다수의 경고가 발생했습니다.

</details>

<details>
<summary><strong>원인 분석: Null 안정성에 대한 컴파일러의 경고</strong></summary>

- **경고의 본질**: 이 경고는 프로그램 실행을 막는 '오류(Error)'가 아닌, 코드의 잠재적인 위험을 알려주는 경고(Warning)였습니다.
- **파라미터의 Null 가능성**: Spring Data JPA와 같은 최신 라이브러리는 내부적으로 메소드의 파라미터가 null이 아니라고 기대(@NonNull)합니다. 하지만 제가 작성한 findById(Long id)와 같은 메소드에서는 id 값에 null이 들어올 가능성을 컴파일러가 배제할 수 없기 때문에, "이 파라미터는 null이 아님을 보장해야 한다"는 의미의 경고가 발생했습니다.
- **반환 값의 Null 가능성**: repository.save()와 같은 메소드는 저장된 객체를 반환하지만, 특정 상황(예: DB 설정 오류)에서는 null을 반환할 수도 있습니다. 컴파일러는 이 가능성을 인지하고, "반환되는 객체가 null일 수도 있으니 주의하라"는 의미의 경고를 발생시켰습니다.

</details>

<details>
<summary><strong>원인 분석: Null 안정성에 대한 컴파일러의 경고</strong></summary>

- **해결 전략**: 단순히 경고 설정을 끄는 대신, 코드의 의도를 명확하게 표현하여 경고의 근본 원인을 해결하는 방식을 선택했습니다.
- **파라미터 경고 해결 (@NonNull)**: lombok.NonNull을 import 한 후, 경고가 발생한 모든 메소드의 파라미터 앞에 @NonNull 어노테이션을 추가했습니다. (예: public Optional findById(@NonNull Long id))
  이를 통해 "이 파라미터는 절대 null 값을 받지 않을 것"이라고 컴파일러에게 명시적으로 알려주어, 파라미터와 관련된 대부분의 경고를 해결했습니다.
- **반환 값 경고 해결 (@SuppressWarnings)**: save() 메소드와 같이, 라이브러리의 반환 값 자체에서 발생하는 경고는 @NonNull로 해결하기 어려웠습니다.
  이 경우, @SuppressWarnings("null") 어노테이션을 해당 메소드 바로 위에 추가했습니다. (예: @SuppressWarnings("null") public Member saveMember(...))
  이 어노테이션은 "개발자인 내가 이 메소드의 null 관련 안정성을 직접 확인하고 보증하니, 더 이상 이 메소드에 대해서는 경고를 표시하지 말라"고 컴파일러에게 지시하는 역할을 합니다.

</details>

<details>
<summary><strong>최종 결과</strong></summary>

- **해결 성공**: 위 두 가지 방법을 통해 프로젝트의 모든 Null type safety 경고를 성공적으로 제거했습니다.
- **느낌점**: 이 과정을 통해 단순히 기능을 구현하는 것을 넘어, Null 안정성을 고려한 견고한 코드를 작성하는 것의 중요성을 배울 수 있었습니다.

</details>
